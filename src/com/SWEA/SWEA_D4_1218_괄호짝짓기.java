package com.SWEA;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.StringReader;
import java.util.Stack;
/**
 * @author yhs
 * @date 2020. 7. 30
 * @see https://swexpertacademy.com/main/talk/solvingClub/problemView.do?contestProbId=AV14eWb6AAkCFAYD&solveclubId=AXOJsQN67-MDFAXS&problemBoxTitle=0730&problemBoxCnt=1&probBoxId=AXOdvjZKHiwDFAXS+
 * @mem 19,664 kb
 * @time 126 ms
 * @caution #스택
 * [고려사항]
 * [입력사항]
 * [출력사항]
 */
public class SWEA_D4_1218_괄호짝짓기 {
	static BufferedReader input = new BufferedReader(new InputStreamReader(System.in));
	static int T = 10;
	static int len, isCurrect;;
	static String line;
	
	static Stack<String> par = new Stack<String>();
	public static void main(String[] args) throws NumberFormatException, IOException {
//		input = new BufferedReader(new StringReader(src));
		for(int testCase=0; testCase<T; testCase++) {
			
			len = Integer.parseInt(input.readLine());
			line = input.readLine();
			String[] str = new String[line.length()];
			str = line.split("");
			for(int i=0; i<str.length; i++) {
				switch (str[i]) {
				case "(" :
					par.push(str[i]);
					break;

				case "{" :
					par.push(str[i]);
					break;
					
				case "[" :
					par.push(str[i]);
					break;
					
				case "<" :
					par.push(str[i]);
					break;
					
				case ")" :
					if(par.peek().equals("(")) {
						par.pop();
					}else {
						par.push(str[i]);
					}
					break;
					
				case "}" :
					if(par.peek().equals("{")) {
						par.pop();
					}else {
						par.push(str[i]);
					}
					break;
					
				case "]" :
					if(par.peek().equals("[")) {
						par.pop();
					}else {
						par.push(str[i]);
					}
					break;
					
				case ">" :
					if(par.peek().equals("<")) {
						par.pop();
					}else {
						par.push(str[i]);
					}
					break;
					
				default:
					break;
				}
			}
			
			if(par.isEmpty()) {
				isCurrect = 1;
			}else {
				isCurrect = 0;
			}
			System.out.printf("#%d %d\n",testCase+1,isCurrect);
			par.clear();
			
		}
		
	}
//	static void printStack() {
//		System.out.printf("%s\n",par);
//	}
//	static String src = 
//			"182\r\n" + 
//			"(({<(({{[[[[<<[[(<[[{([{{{[<[[[{<<(<[[{}[]{}{}[]]]><><>{})[]{}><>[]<>><>}][]]<>{}]>]()}()()(){}}}{}][])(){}<>()}]{}[]]>()[][][]){}]]{}[]<>><>{}[]{}<>>]]]][]{}{}[]()}}))>}<>{}()))[][]\r\n" + 
//			"298\r\n" + 
//			"{({{[({([{(<[([(([<({[{{[[({{[({([<{(<[[(<((<[{[<[([((<{{[([{<<[{(<({[<{}()>[]<>][]})>[])<>()[]}]>><>(){}()[]}]{}()<>[]<>)<>{}<>{}{}]}()}<>>)[]){}])]>[][]{}]()}][]()>[]))[]>)]][]>)[]{}}[]<><>>]()[])}{}){}]}}<><>){}][]{}{}]<>[]}(){}<>}][]})[]()><>]))])]>{}{}())}{}])<>}{})]{}{}}[])())<>{}[]<><>}[]{}\r\n" + 
//			"230\r\n" + 
//			"[({([<[<[<<(([{([<((({<{([{[<[<<<([<[<([[{([<[{({([<(<[[][]]<>{}<>[]>){}{}<>>]{}())})}[]]{}>[][][]]()[][]<><>()<>){}}]])[][][]>]>()](){}[])>>><><>{}]>]{}[]}<>][]())}[][]>}<>)()))>{}[]()])[][]}]<>()<>))>>()][]>][][]>]())}<><>{}<>)]\r\n" + 
//			"226\r\n" + 
//			"[[[{{[[<[([((([({{[{<<([[[([[{<[{{<{[<[([<<<((([{(<({<([(<><>){}])()[]>}<>())>){}}]))){}>()<><>>>[]]<>)]>]{}()}(){}>()<><>}}]()>}<>{}]])<>{}]()(){}][]()])[]{}(){}<>>[]>}{}{}](){}}})()])(){}<>))][])[]()<>]<><>>]()][]{}}}[]]]]()\r\n" + 
//			"242\r\n" + 
//			"((([<[{{<[<{<{({(({({({<{{{((([{[({[{<{{(([[{([{<<({<[]>}){}[]()()>>}[][]()][]<>){}<>}]]))}[]}()><>[]}(){}]()[][][]})]<>}{}<>](){}){}){})<><><>{}<>[]}}<>{}{}}{}[]>{}}(){}){}<>})}))[]})()}>[]{}{}()}>]>{}[][][][]}}][][][]{}<>>][])()[]))()()[]{}\r\n" + 
//			"138\r\n" + 
//			"{[<(({[{(({[(({{{]{<[([[({[[[[<>]]]{}]{}})]]()<>{}{}<>()<>)()<>{}[]<>]>{}})<>()<><><>}{}}}())){}]}))}()<>()[]{}]})<><><><>)>[][][]]}<>[]{}\r\n" + 
//			"238\r\n" + 
//			"{<[[({[([{{(({{((<({(<{{([<{<([((<<(<{[<<([{{[<[{<{{{[<[{<{[[]]}()[][]}()}]>]}{}{}}<>[]<>{}(){}}>}]{}{}><>[]]}[]{}()[]{}}]{}())()<><>()>>]()<>}>{}[])<>()>>()))()])>{}}>])}{}{}}>)()<>[]}){}>)<>)()}}())){}<>()}[][]}]){}<>[]<>]}[])]()]()>}<>\r\n" + 
//			"272\r\n" + 
//			"([{[<[[([([{[[([[({([(<[[[<{(({<([{([{<{[<<((({(<{<[({<{<<([[{<[[{{[<(([{}])<>)[]>]()<>}<>}[]]]{}()>}][]]{})<>{}[]>>}>{}<>}{})()]<>><>}[][]>)<>{}}[]<>))){}[]>>[]]}[]>}][])[]}]())>[]{}{}}[]{}))}>(){}[]{}]<>{}]]()>)<><><><>[]])}{})[]()]])]]}])<>][]{}<>)()]<><>()]>]<>}<>()])\r\n" + 
//			"218\r\n" + 
//			"[{({[<{[<{[[[<[{[[[[{([{[<[[<<[{{((<[([[<[(<[({}[]<>[]()[]()(){}){})<>()>[][]<>[])<><>[](){}[]{}<>]><>]])]>[]){}<>)[][]}}<><>()<>]<>><>{}>[]<>]{}]>]<>}]{}())[]}[]]<>]]]}]()>]<>(){}]()<>()]()}>{}<>]{}}>]()[]()[]})()}]()\r\n" + 
//			"258\r\n" + 
//			"({{[({<{<<{{([[<{({{{[[({[<(<{<<{<<{{{{([{[{<{{[<<[[[<[{<(<[({(<>)})]><>[])()>{}}[]]{}<>><>]]]<>>{}>]}{}[]}>}]<>[]}]){}<>{}}[]}}}{}<>>>}>[]><><>()<>[]}><>)><><><>]}){}]]<>[]<>}[]<>{}}}()<>)}<>{}[]>][]{}])<>[][]{}}()}>[]<>>}<><>>()}{}<><>[]()())<>]}{}{}[]}[])\r\n" + 
//			""; 
}
